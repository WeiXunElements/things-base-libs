<!--
@license
Copyright Â© 2015-2021 Shenzhen Weixun All rights reserved.
-->
<!--
PDF viewer using native browser object as application/pdf
Example:
```html
    <things-common-object-viewer id="pdfViewer" file="[[pdfUrl]]" media-type="application/pdf" width="100%"></things-common-object-viewer>
```
Data Bind with Blob example:
```js
    this.pdfUrl = URL.createObjectURL(blob);
```
Clear PDF container example:
```js
    this.$.pdfViewer.clear();
```
Message example:
```html
    <things-common-object-viewer
        file="[[pdfUrl]]"
        not-supported-message="Not supported by your browser"
        not-supported-link-message="see the file here!">
    </things-common-object-viewer>
```
Card example:
```html
    <things-common-object-viewer
        file="[[pdfUrl]]"
        card elevation="3"
        download-label="Baixar">
    </things-common-object-viewer>
```
@demo demo/index.html
-->
<dom-module id="things-common-object-viewer">
  <template>
    <style>
      :host {
        display: none;
        flex: inherit;
      }
      :host([file]) {
        display: inherit;
      }
    </style>

    <object data="[[file]]" type="[[mediaType]]" width="[[width]]" height="[[height]]">
      <p>{{notSupportedMessage}} <a href="[[file]]">{{notSupportedLinkMessage}}</a></p>
    </object>
  </template>

  <script>
    Polymer({
      is: "things-common-object-viewer",
      properties: {
        /**
         * The location of the Object file.
         *
         * @type String
         */
        file: {
          type: String,
          value: undefined,
          reflectToAttribute: true,
        },
        /**
         * The message when browser doesn't support pdf object
         *
         * @type String
         */
        notSupportedMessage: {
          type: String,
          value: "It appears your Web browser is not configured to display files. No worries, just",
        },
        /**
         *
         */
        mediaType: {
          type: String,
          value: "image/png",
        },
        /**
         * The PDF link message when browser doesn't support pdf object
         *
         * @type String
         */
        notSupportedLinkMessage: {
          type: String,
          value: "click here to download the file.",
        },
        /**
         * The height of the PDF viewer.
         *
         * @type String
         */
        height: {
          type: String,
          value: "100%",
        },
        /**
         * The width of the PDF viewer.
         *
         * @type String
         */
        width: {
          type: String,
          value: "100%",
        },
        /**
         * Download button label.
         *
         * @type String
         */
        downloadLabel: {
          type: String,
          value: "Download",
        },
        /**
         * The z-depth of the card, from 0-5.
         *
         * @type String
         */
        elevation: {
          type: String,
          value: "1",
        },
      },
      /**
       * Clear PDF container
       */
      clear: function () {
        this.file = undefined;
      },
    });
  </script>
</dom-module>
