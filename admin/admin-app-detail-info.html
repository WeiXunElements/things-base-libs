<!--
@license
Copyright Â© 2015-2021 Shenzhen Weixun All rights reserved.
-->
<link rel="import" href="../../polymer/polymer.html" />

<link rel="import" href="../../things-ajax/things-ajax.html" />

<dom-module id="admin-app-detail-info">
  <template>
    <style>
      :host {
        display: block;
        @apply (--layout-vertical);
        @apply (--layout-flex);
      }

      pre {
        white-space: pre-wrap;
        word-wrap: break-word;
      }

      input[type="text"],
      input[type="tel"],
      input[type="email"],
      input[type="date"],
      input[type="number"] {
        border: none;
        vertical-align: middle;
        font-size: 16px;
      }

      #app-info table,
      #app-health table,
      #app-mem table,
      #app-jvm table,
      #app-gc table,
      #app-container table,
      #app-datasource table {
        border-collapse: collapse;
        border-spacing: 0;
        width: 100%;
      }
      #app-info td,
      #app-health td,
      #app-mem td,
      #app-jvm td,
      #app-gc td,
      #app-container td,
      #app-datasource td {
        border-bottom: 1px solid #999;
        padding: 5px 10px;
        font-size: 14px;
      }
      #app-info th,
      #app-health th,
      #app-mem th,
      #app-jvm th,
      #app-gc th,
      #app-container th,
      #app-datasource th {
        background-color: #f2eeeb;
        border-bottom: 1px solid #999;
        padding: 3px 10px 3px 0;
        color: #3f4048;
        width: 150px;
        height: 23px;
        text-align: right;
        font-weight: bolder;
        font-size: 14px;
      }

      .heading {
        background-color: #7a7470;
        padding: 10px 35px;
        border: none;
        color: #fff;
        text-align: left;
        line-height: 0;
        font-size: 16px;
      }
    </style>
    <!-- Application info -->
    <a id="btn-app-info" class="heading" on-click="toggle">Application</a>
    <iron-collapse id="app-info" opened>
      <form is="iron-form">
        <table>
          <tr>
            <th>stage</th>
            <td>{{infoResponse.stage}}</td>
          </tr>
          <tr>
            <th>name</th>
            <td>{{infoResponse.name}}</td>
          </tr>
          <tr>
            <th>version</th>
            <td>{{infoResponse.version}}</td>
          </tr>
        </table>
      </form>
    </iron-collapse>

    &nbsp;

    <!-- Application Health info -->
    <a id="btn-app-health" class="heading" on-click="toggle">Health</a>
    <iron-collapse id="app-health" opened>
      <form is="iron-form">
        <table>
          <!-- detail depth 1 -->
          <tr>
            <th>Application</th>
            <td><input readonly="true" is="iron-input" type="text" /></td>
          </tr>
          <!-- detail depth 2 add table -->
        </table>
      </form>
    </iron-collapse>

    &nbsp;

    <!-- Application Memory -->
    <a id="btn-app-mem" class="heading" on-click="toggle">Memory</a>
    <iron-collapse id="app-mem" opened>
      <form is="iron-form">
        <table>
          <tr>
            <th>stage</th>
            <td><input readonly="true" is="iron-input" type="text" name="input_app_stage" /></td>
          </tr>
        </table>
      </form>
    </iron-collapse>

    &nbsp;

    <!-- Application JVM -->
    <a id="btn-app-jvm" class="heading" on-click="toggle">JVM</a>
    <iron-collapse id="app-jvm" opened>
      <form is="iron-form">
        <table>
          <tr>
            <th>stage</th>
            <td><input readonly="true" is="iron-input" type="text" /></td>
          </tr>
        </table>
      </form>
    </iron-collapse>

    &nbsp;

    <!-- Application GC -->
    <a id="btn-app-gc" class="heading" on-click="toggle">Garbage Collections</a>
    <iron-collapse id="app-gc" opened>
      <form is="iron-form">
        <table>
          <tr>
            <th>stage</th>
            <td><input readonly="true" is="iron-input" type="text" /></td>
          </tr>
        </table>
      </form>
    </iron-collapse>

    &nbsp;

    <!-- Application Container -->
    <a id="btn-app-container" class="heading" on-click="toggle">Servlet Container</a>
    <iron-collapse id="app-container" opened>
      <form is="iron-form">
        <table>
          <tr>
            <th>stage</th>
            <td><input readonly="true" is="iron-input" type="text" /></td>
          </tr>
        </table>
      </form>
    </iron-collapse>

    &nbsp;

    <!-- Application Datasource -->
    <a id="btn-app-datasource" class="heading" on-click="toggle">DataSource</a>
    <iron-collapse id="app-datasource" opened>
      <form is="iron-form">
        <table>
          <tr>
            <th>stage</th>
            <td><input readonly="true" is="iron-input" type="text" /></td>
          </tr>
        </table>
      </form>
    </iron-collapse>
  </template>
  <script>
    Polymer({
      is: "admin-app-detail-info",

      behaviors: [],

      properties: {
        color: {
          type: String,
          value: "#000",
        },
        backgroundColor: {
          type: String,
          value: "#FFFFFF",
        },
        infoResponse: {
          type: Object,
        },
        healthResponse: {
          type: Object,
          observer: "_healthResponseChanged",
        },
      },

      listeners: {},

      _healthResponseChanged: function (healthResponse) {
        console.warn("ddddddd");
        console.warn("ddddddd");
        console.warn("ddddddd");
        console.warn("ddddddd");
      },

      toggle: function (e) {
        var btnId = e.target.id;
        var targetCollapse = "";
        if (btnId == "btn-app-info") {
          targetCollapse = "app-info";
        } else if (btnId == "btn-app-health") {
          targetCollapse = "app-health";
        } else if (btnId == "btn-app-mem") {
          targetCollapse = "app-mem";
        } else if (btnId == "btn-app-jvm") {
          targetCollapse = "app-jvm";
        } else if (btnId == "btn-app-gc") {
          targetCollapse = "app-gc";
        } else if (btnId == "btn-app-container") {
          targetCollapse = "app-container";
        } else if (btnId == "btn-app-datasource") {
          targetCollapse = "app-datasource";
        }

        this.$[targetCollapse].toggle();
      },
    });
  </script>
</dom-module>
